

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tools – Timing and Data logging &mdash; ev3-micropython 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'2.0.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/javascript" src="_static/contentui.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="robotics – Robotics" href="robotics.html" />
    <link rel="prev" title="parameters – Parameters and Constants" href="parameters.html" />
    <link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/lego-education-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="startinstall.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="startbrick.html">Using the EV3 Brick</a></li>
<li class="toctree-l1"><a class="reference internal" href="startrun.html">Creating and running programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="startlinux.html">Accessing advanced EV3 features</a></li>
<li class="toctree-l1"><a class="reference internal" href="startupgrade.html">Upgrading from v1.0 to v2.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Pybricks Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hubs.html"><code class="docutils literal notranslate"><span class="pre">hubs</span></code> – Programmable Hubs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ev3devices.html"><code class="docutils literal notranslate"><span class="pre">ev3devices</span></code> – EV3 Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="nxtdevices.html"><code class="docutils literal notranslate"><span class="pre">nxtdevices</span></code> – NXT Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="iodevices.html"><code class="docutils literal notranslate"><span class="pre">iodevices</span></code> – Generic I/O Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html"><code class="docutils literal notranslate"><span class="pre">parameters</span></code> – Parameters and Constants</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">tools</span></code> – Timing and Data logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="robotics.html"><code class="docutils literal notranslate"><span class="pre">robotics</span></code> – Robotics</a></li>
<li class="toctree-l1"><a class="reference internal" href="media.html"><code class="docutils literal notranslate"><span class="pre">media</span></code> – Sounds and Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="messaging.html"><code class="docutils literal notranslate"><span class="pre">messaging</span></code> – Messaging</a></li>
</ul>
<p class="caption"><span class="caption-text">Engineering Extras</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="signaltypes.html">Signals and Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors.html">More about Motors</a></li>
</ul>
<p class="caption"><span class="caption-text">Robot Educator Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_educator_basic.html">Basic Movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_educator_ultrasonic.html">Obstacle Avoidance</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_educator_line.html">Line Following</a></li>
</ul>
<p class="caption"><span class="caption-text">Core Set Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/color_sorter.html">Color Sorter</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_arm.html">Robot Arm H25</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/puppy.html">Puppy</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/gyro_boy.html">Gyro Boy</a></li>
</ul>
<p class="caption"><span class="caption-text">Expansion Set Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/elephant.html">Elephant</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/stair_climber.html">Stair Climber</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/tank_bot.html">Tank Bot</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/znap.html">Znap</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ev3-micropython</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">tools</span></code> – Timing and Data logging</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pybricks.tools">
<span id="tools-timing-and-data-logging"></span><h1><a class="reference internal" href="#module-pybricks.tools" title="pybricks.tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools</span></code></a> – Timing and Data logging<a class="headerlink" href="#module-pybricks.tools" title="Permalink to this headline">¶</a></h1>
<p>Common tools for timing and data logging.</p>
<dl class="function">
<dt id="pybricks.tools.wait">
<code class="descname">wait</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Pauses the user program for a specified amount of time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<a class="reference internal" href="signaltypes.html#id1"><span class="std std-ref">time: ms</span></a>) – How long to wait.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pybricks.tools.StopWatch">
<em class="property">class </em><code class="descname">StopWatch</code><a class="headerlink" href="#pybricks.tools.StopWatch" title="Permalink to this definition">¶</a></dt>
<dd><p>A stopwatch to measure time intervals. Similar to the stopwatch
feature on your phone.</p>
<dl class="method">
<dt id="pybricks.tools.StopWatch.time">
<code class="descname">time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.StopWatch.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current time of the stopwatch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Elapsed time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="signaltypes.html#id1"><span class="std std-ref">time: ms</span></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.tools.StopWatch.pause">
<code class="descname">pause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.StopWatch.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Pauses the stopwatch.</p>
</dd></dl>

<dl class="method">
<dt id="pybricks.tools.StopWatch.resume">
<code class="descname">resume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.StopWatch.resume" title="Permalink to this definition">¶</a></dt>
<dd><p>Resumes the stopwatch.</p>
</dd></dl>

<dl class="method">
<dt id="pybricks.tools.StopWatch.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.StopWatch.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the stopwatch time to 0.</p>
<p>The run state is unaffected:</p>
<ul class="simple">
<li>If it was paused, it stays paused (but now at 0).</li>
<li>If it was running, it stays running (but starting again from 0).</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pybricks.tools.DataLog">
<em class="property">class </em><code class="descname">DataLog</code><span class="sig-paren">(</span><em>*headers</em>, <em>name='log'</em>, <em>timestamp=True</em>, <em>extension='csv'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.DataLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a file and log data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<cite>col1</cite>, <cite>col2</cite>, <cite>…</cite>) – Column headers. These are the
names of the data columns. For example, choose <code class="docutils literal notranslate"><span class="pre">'time'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'angle'</span></code>.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the file.</li>
<li><strong>timestamp</strong> (<em>bool</em>) – Choose <code class="docutils literal notranslate"><span class="pre">True</span></code> to add the date and time to the
file name. This way, your file has a unique name.
Choose <code class="docutils literal notranslate"><span class="pre">False</span></code> to omit the timestamp.</li>
<li><strong>extension</strong> (<em>str</em>) – File extension.</li>
<li><strong>append</strong> (<em>bool</em>) – Choose <code class="docutils literal notranslate"><span class="pre">True</span></code> to reopen an existing data log file
and append data to it. Choose <code class="docutils literal notranslate"><span class="pre">False</span></code> to clear existing
data. If the file does not exist yet, an empty file will be
created either way.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybricks.tools.DataLog.log">
<code class="descname">log</code><span class="sig-paren">(</span><em>*values</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.tools.DataLog.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves one or more values on a new line in the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>values</strong> (object, object, <cite>…</cite>) – One or more objects or values.</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>By default, this class creates a <code class="docutils literal notranslate"><span class="pre">csv</span></code> file on the EV3 brick with the
name <code class="docutils literal notranslate"><span class="pre">log</span></code> and the current date and time. For example, if you
use this class on 13 February 2020 on 10:07 and 44.431260
seconds, the file is called <code class="docutils literal notranslate"><span class="pre">log_2020_02_13_10_07_44_431260.csv</span></code>.</p>
<p>See <a class="reference internal" href="startrun.html#managefiles"><span class="std std-ref">managing files on the EV3</span></a> to learn how to upload
the log file back to your computer.</p>
</dd></dl>

<p class="toggle-header"><strong>Show/hide example: Logging and visualizing measurements</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example</strong></p>
<p>This example shows how to log the angle of a rotating wheel as time passes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.ev3devices</span> <span class="kn">import</span> <span class="n">Motor</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>
<span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">DataLog</span><span class="p">,</span> <span class="n">StopWatch</span><span class="p">,</span> <span class="n">wait</span>

<span class="c1"># Create a data log file in the project folder on the EV3 Brick.</span>
<span class="c1"># * By default, the file name contains the current date and time, for example:</span>
<span class="c1">#   log_2020_02_13_10_07_44_431260.csv</span>
<span class="c1"># * You can optionally specify the titles of your data columns. For example,</span>
<span class="c1">#   if you want to record the motor angles at a given time, you could do:</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">DataLog</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;angle&#39;</span><span class="p">)</span>

<span class="c1"># Initialize a motor and make it move</span>
<span class="n">wheel</span> <span class="o">=</span> <span class="n">Motor</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">B</span><span class="p">)</span>
<span class="n">wheel</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>

<span class="c1"># Start a stopwatch to measure elapsed time</span>
<span class="n">watch</span> <span class="o">=</span> <span class="n">StopWatch</span><span class="p">()</span>

<span class="c1"># Log the time and the motor angle 10 times</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="c1"># Read angle and time</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="n">wheel</span><span class="o">.</span><span class="n">angle</span><span class="p">()</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">watch</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="c1"># Each time you use the log() method, a new line with data is added to</span>
    <span class="c1"># the file. You can add as many values as you like.</span>
    <span class="c1"># In this example, we save the current time and motor angle:</span>
    <span class="n">data</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span>

    <span class="c1"># Wait some time so the motor can move a bit</span>
    <span class="n">wait</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># You can now upload your file to your computer</span>
</pre></div>
</div>
<p>In this example, the generated file has the following contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time</span><span class="p">,</span> <span class="n">angle</span>
<span class="mi">3</span><span class="p">,</span> <span class="mi">0</span>
<span class="mi">108</span><span class="p">,</span> <span class="mi">6</span>
<span class="mi">212</span><span class="p">,</span> <span class="mi">30</span>
<span class="mi">316</span><span class="p">,</span> <span class="mi">71</span>
<span class="mi">419</span><span class="p">,</span> <span class="mi">124</span>
<span class="mi">523</span><span class="p">,</span> <span class="mi">176</span>
<span class="mi">628</span><span class="p">,</span> <span class="mi">228</span>
<span class="mi">734</span><span class="p">,</span> <span class="mi">281</span>
<span class="mi">838</span><span class="p">,</span> <span class="mi">333</span>
<span class="mi">942</span><span class="p">,</span> <span class="mi">385</span>
</pre></div>
</div>
<p>When you upload the file to your computer as shown above, you can open it
in a spreadsheet editor. You can then generate a graph of the data, as
shown in <a class="reference internal" href="#fig-datalog-graph"><span class="std std-numref">Figure 18</span></a>.</p>
<p>In this example, we see that the motor angle changes slowly at first. Then
the angle begins to change faster, and the graph becomes a straight line.
This means that the motor has reached a constant speed. You can verify that
the angle increases by 500 degrees per second.</p>
<div class="figure" id="id1">
<span id="fig-datalog-graph"></span><img alt="_images/datalog_graph.png" src="_images/datalog_graph.png" style="width: 100%;" />
<p class="caption"><span class="caption-number">Figure 18 </span><span class="caption-text">Original file contents (left) and a generated graph (right).</span></p>
</div>
</div>
<p class="toggle-header"><strong>Show/hide example: Using the optional arguments</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example</strong></p>
<p>This example shows how to log data beyond just numbers. It also shows how
you can use the optional arguments of the <code class="docutils literal notranslate"><span class="pre">DataLog</span></code> class to choose the
file name and extension.</p>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">timestamp=False</span></code>, which means that the date and time
are not added to the file name. This can be convenient because the file
name will always be the same. However, this means that the contents of
<code class="docutils literal notranslate"><span class="pre">my_file.txt</span></code> will be overwritten every time you run this script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Color</span>
<span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">DataLog</span>

<span class="c1"># Create a data log file called my_file.txt</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">DataLog</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_file&#39;</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="s1">&#39;txt&#39;</span><span class="p">)</span>

<span class="c1"># The log method uses the print() method to add a line of text.</span>
<span class="c1"># So, you can do much more than saving numbers. For example:</span>
<span class="n">data</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Temperature&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Sunday&#39;</span><span class="p">,</span> <span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">log</span><span class="p">({</span><span class="s1">&#39;Kiwi&#39;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">GREEN</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;Banana&#39;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">YELLOW</span><span class="p">})</span>

<span class="c1"># You can upload the file to your computer, but you can also print the data:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="robotics.html" class="btn btn-neutral float-right" title="robotics – Robotics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="parameters.html" class="btn btn-neutral float-left" title="parameters – Parameters and Constants" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020 The LEGO Group. All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<div class="disclaimer">LEGO, the LEGO logo, MINDSTORMS and the MINDSTORMS EV3 logo are               trademarks and/or copyrights of the LEGO Group.</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>