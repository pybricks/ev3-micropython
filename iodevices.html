

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iodevices – Generic I/O Devices &mdash; ev3-micropython 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'2.0.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/javascript" src="_static/contentui.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="parameters – Parameters and Constants" href="parameters.html" />
    <link rel="prev" title="nxtdevices – NXT Devices" href="nxtdevices.html" />
    <link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/lego-education-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="startinstall.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="startbrick.html">Using the EV3 Brick</a></li>
<li class="toctree-l1"><a class="reference internal" href="startrun.html">Creating and running programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="startlinux.html">Accessing advanced EV3 features</a></li>
<li class="toctree-l1"><a class="reference internal" href="startupgrade.html">Upgrading from v1.0 to v2.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Pybricks Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hubs.html"><code class="docutils literal notranslate"><span class="pre">hubs</span></code> – Programmable Hubs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ev3devices.html"><code class="docutils literal notranslate"><span class="pre">ev3devices</span></code> – EV3 Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="nxtdevices.html"><code class="docutils literal notranslate"><span class="pre">nxtdevices</span></code> – NXT Devices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">iodevices</span></code> – Generic I/O Devices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lump-device">LUMP Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analog-sensor">Analog Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2c-device">I2C Device</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i2c-addresses">I2C Addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-i2c-commands">Advanced I2C Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#uart-device">UART Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dc-motor">DC Motor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ev3dev-sensors">Ev3dev sensors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html"><code class="docutils literal notranslate"><span class="pre">parameters</span></code> – Parameters and Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html"><code class="docutils literal notranslate"><span class="pre">tools</span></code> – Timing and Data logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="robotics.html"><code class="docutils literal notranslate"><span class="pre">robotics</span></code> – Robotics</a></li>
<li class="toctree-l1"><a class="reference internal" href="media.html"><code class="docutils literal notranslate"><span class="pre">media</span></code> – Sounds and Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="messaging.html"><code class="docutils literal notranslate"><span class="pre">messaging</span></code> – Messaging</a></li>
</ul>
<p class="caption"><span class="caption-text">Engineering Extras</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="signaltypes.html">Signals and Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors.html">More about Motors</a></li>
</ul>
<p class="caption"><span class="caption-text">Robot Educator Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_educator_basic.html">Basic Movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_educator_ultrasonic.html">Obstacle Avoidance</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_educator_line.html">Line Following</a></li>
</ul>
<p class="caption"><span class="caption-text">Core Set Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/color_sorter.html">Color Sorter</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_arm.html">Robot Arm H25</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/puppy.html">Puppy</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/gyro_boy.html">Gyro Boy</a></li>
</ul>
<p class="caption"><span class="caption-text">Expansion Set Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/elephant.html">Elephant</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/stair_climber.html">Stair Climber</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/tank_bot.html">Tank Bot</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/znap.html">Znap</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ev3-micropython</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">iodevices</span></code> – Generic I/O Devices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/iodevices.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pybricks.iodevices">
<span id="iodevices-generic-i-o-devices"></span><h1><a class="reference internal" href="#module-pybricks.iodevices" title="pybricks.iodevices"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iodevices</span></code></a> – Generic I/O Devices<a class="headerlink" href="#module-pybricks.iodevices" title="Permalink to this headline">¶</a></h1>
<p>Generic input/output devices.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This module provides classes to interact with unofficial motors, sensors,
and other custom electronics. You should only connect custom electronics
or unofficial devices if you know what you are doing. Proceed with caution.</p>
</div>
<div class="section" id="lump-device">
<h2>LUMP Device<a class="headerlink" href="#lump-device" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="_images/sensor_rj12_green.png" src="_images/sensor_rj12_green.png" style="width: 25%;" />
</div>
<dl class="class">
<dt id="pybricks.iodevices.LUMPDevice">
<em class="property">class </em><code class="descname">LUMPDevice</code><span class="sig-paren">(</span><em>port</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.LUMPDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Devices using the LEGO UART Messaging Protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>port</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Port" title="pybricks.parameters.Port"><em>Port</em></a>) – Port to which the device is connected.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybricks.iodevices.LUMPDevice.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>mode</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.LUMPDevice.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads values from a given mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mode</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – Device mode.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Values read from the sensor.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.LUMPDevice.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>mode</em>, <em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.LUMPDevice.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes values to the sensor. Only selected sensors and modes support
this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mode</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – Device mode.</li>
<li><strong>data</strong> (<code class="docutils literal notranslate"><span class="pre">tuple</span></code>) – Values to be written.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="analog-sensor">
<h2>Analog Sensor<a class="headerlink" href="#analog-sensor" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="_images/sensor_rj12_brown.png" src="_images/sensor_rj12_brown.png" style="width: 25%;" />
</div>
<dl class="class">
<dt id="pybricks.iodevices.AnalogSensor">
<em class="property">class </em><code class="descname">AnalogSensor</code><span class="sig-paren">(</span><em>port</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.AnalogSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic or custom analog sensor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>port</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Port" title="pybricks.parameters.Port"><em>Port</em></a>) – Port to which the sensor is connected.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybricks.iodevices.AnalogSensor.voltage">
<code class="descname">voltage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.AnalogSensor.voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures analog voltage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Analog voltage.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="signaltypes.html#voltage"><span class="std std-ref">voltage: mV</span></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.AnalogSensor.resistance">
<code class="descname">resistance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.AnalogSensor.resistance" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures resistance.</p>
<p>This value is only meaningful if the analog device is a passive load
such as a resistor or thermistor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Resistance of the analog device.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="signaltypes.html#voltage"><span class="std std-ref">resistance: Ω</span></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.AnalogSensor.active">
<code class="descname">active</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.AnalogSensor.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets sensor to active mode. This sets pin 5 of the sensor
port to <cite>high</cite>.</p>
<p>This is used in some analog
sensors to control a switch. For example, if you use the NXT Light
Sensor as a custom analog sensor, this method will turn the light on.
From then on, <code class="docutils literal notranslate"><span class="pre">voltage()</span></code> returns the raw reflected light value.</p>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.AnalogSensor.passive">
<code class="descname">passive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.AnalogSensor.passive" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets sensor to passive mode. This sets pin 5 of the sensor
port to <cite>low</cite>.</p>
<p>This is used in some analog
sensors to control a switch. For example, if you use the NXT Light
Sensor as a custom analog sensor, this method will turn the light off.
From then on, <code class="docutils literal notranslate"><span class="pre">voltage()</span></code> returns the raw ambient light value.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="i2c-device">
<h2>I2C Device<a class="headerlink" href="#i2c-device" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="_images/sensor_rj12_bluegreen.png" src="_images/sensor_rj12_bluegreen.png" style="width: 25%;" />
</div>
<dl class="class">
<dt id="pybricks.iodevices.I2CDevice">
<em class="property">class </em><code class="descname">I2CDevice</code><span class="sig-paren">(</span><em>port</em>, <em>address</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.I2CDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic or custom I2C device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Port" title="pybricks.parameters.Port"><em>Port</em></a>) – Port to which the device is connected.</li>
<li><strong>address</strong> (<em>int</em>) – I2C address of the client device. See
<a class="reference internal" href="#i2caddress"><span class="std std-ref">I2C Addresses</span></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybricks.iodevices.I2CDevice.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>reg</em>, <em>length=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.I2CDevice.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads bytes, starting at a given register.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reg</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – Register at which to begin
reading: 0–255 or 0x00–0xFF.</li>
<li><strong>length</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – How many bytes to read.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Bytes returned from the device.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">bytes</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.I2CDevice.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>reg</em>, <em>data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.I2CDevice.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes bytes, starting at a given register.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>reg</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – Register at which to begin
writing: 0–255 or 0x00–0xFF.</li>
<li><strong>data</strong> (<code class="docutils literal notranslate"><span class="pre">bytes</span></code>) – Bytes to be written.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p class="toggle-header"><strong>Show/hide example</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example: Read and write to an I2C device.</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.hubs</span> <span class="kn">import</span> <span class="n">EV3Brick</span>
<span class="kn">from</span> <span class="nn">pybricks.iodevices</span> <span class="kn">import</span> <span class="n">I2CDevice</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>

<span class="c1"># Initialize the EV3</span>
<span class="n">ev3</span> <span class="o">=</span> <span class="n">EV3Brick</span><span class="p">()</span>

<span class="c1"># Initialize I2C Sensor</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">I2CDevice</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">S2</span><span class="p">,</span> <span class="mh">0xD2</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Read one byte from the device.</span>
<span class="c1"># For this device, we can read the Who Am I</span>
<span class="c1"># register (0x0F) for the expected value: 211.</span>
<span class="k">if</span> <span class="mi">211</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mh">0x0F</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Device is not attached&quot;</span><span class="p">)</span>

<span class="c1"># To write data, create a bytes object of one</span>
<span class="c1"># or more bytes. For example:</span>
<span class="c1"># data = bytes((1, 2, 3))</span>

<span class="c1"># Write one byte (value 0x08) to register 0x22</span>
<span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mh">0x22</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">((</span><span class="mh">0x08</span><span class="p">,)))</span>
</pre></div>
</div>
</div>
<div class="section" id="i2c-addresses">
<span id="i2caddress"></span><h3>I2C Addresses<a class="headerlink" href="#i2c-addresses" title="Permalink to this headline">¶</a></h3>
<p>I2C addresses are 7-bit values. However, most vendors who make LEGO compatible
sensors provide an 8-bit address in their documentation.
To use those addresses, you must shift them by 1 bit.
For example, if the documented address is <code class="docutils literal notranslate"><span class="pre">0xD2</span></code>, you can do
<code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">=</span> <span class="pre">0xD2</span> <span class="pre">&gt;&gt;</span> <span class="pre">1</span></code>.</p>
</div>
<div class="section" id="advanced-i2c-commands">
<h3>Advanced I2C Commands<a class="headerlink" href="#advanced-i2c-commands" title="Permalink to this headline">¶</a></h3>
<p>Some rudimentary I2C devices do not require a register argument or even any
data. You can achieve this behavior as shown in the examples below.</p>
<p class="toggle-header"><strong>Show/hide example</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example: Advanced I2C read and write techniques.</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.hubs</span> <span class="kn">import</span> <span class="n">EV3Brick</span>
<span class="kn">from</span> <span class="nn">pybricks.iodevices</span> <span class="kn">import</span> <span class="n">I2CDevice</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>

<span class="c1"># Initialize the EV3</span>
<span class="n">ev3</span> <span class="o">=</span> <span class="n">EV3Brick</span><span class="p">()</span>

<span class="c1"># Initialize I2C Sensor</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">I2CDevice</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">S2</span><span class="p">,</span> <span class="mh">0xD2</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Recommended for reading</span>
<span class="n">result</span><span class="p">,</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="mh">0x0F</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Read 1 byte from no particular register:</span>
<span class="n">device</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Read 0 bytes from no particular register:</span>
<span class="n">device</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># I2C write operations consist of a register byte followed</span>
<span class="c1"># by a series of data bytes. Depending on your device, you</span>
<span class="c1"># can choose to skip the register or data as follows:</span>

<span class="c1"># Recommended for writing:</span>
<span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="mh">0x22</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x08</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Write 1 byte to no particular register:</span>
<span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x08</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Write 0 bytes to a particular register:</span>
<span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="mh">0x08</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># Write 0 bytes to no particular register:</span>
<span class="n">device</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">reg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Additional technical resources</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">I2CDevice</span></code> class methods call functions from the Linux SMBus driver.
To find out which commands are called under the hood, check the
<a class="reference external" href="https://github.com/pybricks/pybricks-micropython">Pybricks source code</a>.
More details about using I2C without MicroPython can be found on
the <a class="reference external" href="http://docs.ev3dev.org/projects/lego-linux-drivers/en/ev3dev-stretch/i2c.html">ev3dev I2C</a> page.</p>
</div>
</div>
<div class="section" id="uart-device">
<h2>UART Device<a class="headerlink" href="#uart-device" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="_images/sensor_rj12_gray.png" src="_images/sensor_rj12_gray.png" style="width: 25%;" />
</div>
<dl class="class">
<dt id="pybricks.iodevices.UARTDevice">
<em class="property">class </em><code class="descname">UARTDevice</code><span class="sig-paren">(</span><em>port</em>, <em>baudrate</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.UARTDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic UART device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Port" title="pybricks.parameters.Port"><em>Port</em></a>) – Port to which the device is connected.</li>
<li><strong>baudrate</strong> (<em>int</em>) – Baudrate of the UART device.</li>
<li><strong>timeout</strong> (<a class="reference internal" href="signaltypes.html#id1"><span class="std std-ref">time: ms</span></a>) – How long to wait
during <a class="reference internal" href="#pybricks.iodevices.UARTDevice.read" title="pybricks.iodevices.UARTDevice.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> before giving up. If you choose <code class="docutils literal notranslate"><span class="pre">None</span></code>,
it will wait forever.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybricks.iodevices.UARTDevice.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>length=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.UARTDevice.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a given number of bytes from the buffer.</p>
<p>Your program will wait until the requested number of bytes are
received. If this takes longer than <code class="docutils literal notranslate"><span class="pre">timeout</span></code>, the <code class="docutils literal notranslate"><span class="pre">ETIMEDOUT</span></code>
exception is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>length</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – How many bytes to read.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Bytes returned from the device.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">bytes</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.UARTDevice.read_all">
<code class="descname">read_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.UARTDevice.read_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all bytes from the buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Bytes returned from the device.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">bytes</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.UARTDevice.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.UARTDevice.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes bytes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<code class="docutils literal notranslate"><span class="pre">bytes</span></code>) – Bytes to be written.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.UARTDevice.waiting">
<code class="descname">waiting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.UARTDevice.waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets how many bytes are still waiting to be read.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Number of bytes in the buffer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.UARTDevice.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.UARTDevice.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Empties the buffer.</p>
</dd></dl>

</dd></dl>

<p class="toggle-header"><strong>Show/hide example</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example: Read and write to a UART device.</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.hubs</span> <span class="kn">import</span> <span class="n">EV3Brick</span>
<span class="kn">from</span> <span class="nn">pybricks.iodevices</span> <span class="kn">import</span> <span class="n">UARTDevice</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>
<span class="kn">from</span> <span class="nn">pybricks.media.ev3dev</span> <span class="kn">import</span> <span class="n">SoundFile</span>

<span class="c1"># Initialize the EV3</span>
<span class="n">ev3</span> <span class="o">=</span> <span class="n">EV3Brick</span><span class="p">()</span>

<span class="c1"># Initialize sensor port 2 as a uart device</span>
<span class="n">ser</span> <span class="o">=</span> <span class="n">UARTDevice</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">S2</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">115200</span><span class="p">)</span>

<span class="c1"># Write some data</span>
<span class="n">ser</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">Hello, world!</span><span class="se">\r\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Play a sound while we wait for some data</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">ev3</span><span class="o">.</span><span class="n">speaker</span><span class="o">.</span><span class="n">play_file</span><span class="p">(</span><span class="n">SoundFile</span><span class="o">.</span><span class="n">HELLO</span><span class="p">)</span>
    <span class="n">ev3</span><span class="o">.</span><span class="n">speaker</span><span class="o">.</span><span class="n">play_file</span><span class="p">(</span><span class="n">SoundFile</span><span class="o">.</span><span class="n">GOOD</span><span class="p">)</span>
    <span class="n">ev3</span><span class="o">.</span><span class="n">speaker</span><span class="o">.</span><span class="n">play_file</span><span class="p">(</span><span class="n">SoundFile</span><span class="o">.</span><span class="n">MORNING</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bytes waiting to be read:&quot;</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">waiting</span><span class="p">())</span>

<span class="c1"># Read all data received while the sound was playing</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">read_all</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dc-motor">
<h2>DC Motor<a class="headerlink" href="#dc-motor" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="_images/rcxmotor.png" src="_images/rcxmotor.png" style="width: 40%;" />
</div>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">DCMotor</code><span class="sig-paren">(</span><em>port</em>, <em>positive_direction=Direction.CLOCKWISE</em><span class="sig-paren">)</span></dt>
<dd><p>Generic class to control simple motors without rotation sensors, such
as train motors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Port" title="pybricks.parameters.Port"><em>Port</em></a>) – Port to which the motor is connected.</li>
<li><strong>positive_direction</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Direction" title="pybricks.parameters.Direction"><em>Direction</em></a>) – Which direction the motor should
turn when you give a positive duty cycle value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">dc</code><span class="sig-paren">(</span><em>duty</em><span class="sig-paren">)</span></dt>
<dd><p>Rotates the motor at a given duty cycle (also known as “power”).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>duty</strong> (<a class="reference internal" href="signaltypes.html#percentage"><span class="std std-ref">percentage: %</span></a>) – The duty cycle (-100.0 to 100).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Stops the motor and lets it spin freely.</p>
<p>The motor gradually stops due to friction.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="ev3dev-sensors">
<h2>Ev3dev sensors<a class="headerlink" href="#ev3dev-sensors" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="_images/sensor_ev3dev.png" src="_images/sensor_ev3dev.png" style="width: 70%;" />
</div>
<p>EV3 MicroPython is built on top of ev3dev, which means that a sensor
may be supported even if it is not listed in this documentation. If so, you can
use it with the <code class="docutils literal notranslate"><span class="pre">Ev3devSensor</span></code> class. This is easier and faster than using
the custom device classes given above.</p>
<p>To check whether you can use the <code class="docutils literal notranslate"><span class="pre">Ev3devSensor</span></code> class:</p>
<blockquote>
<div><ul class="simple">
<li>Plug the sensor into your EV3 Brick.</li>
<li>Go to the main menu of the EV3 Brick.</li>
<li>Select <cite>Device Browser</cite> and then <cite>Sensors</cite>.</li>
<li>If your sensor shows up, you can use it.</li>
</ul>
</div></blockquote>
<p>Now select your sensor from the menu and choose <cite>set mode</cite>. This shows all
available modes for this sensor. You can use these mode names as the <code class="docutils literal notranslate"><span class="pre">mode</span></code>
setting below.</p>
<p>To learn more about compatible devices and what each mode does,
visit the <a class="reference external" href="http://docs.ev3dev.org/projects/lego-linux-drivers/en/ev3dev-stretch/sensors.html">ev3dev sensors</a> page.</p>
<dl class="class">
<dt id="pybricks.iodevices.Ev3devSensor">
<em class="property">class </em><code class="descname">Ev3devSensor</code><span class="sig-paren">(</span><em>port</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.Ev3devSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Read values of an ev3dev-compatible sensor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>port</strong> (<a class="reference internal" href="parameters.html#pybricks.parameters.Port" title="pybricks.parameters.Port"><em>Port</em></a>) – Port to which the device is connected.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pybricks.iodevices.Ev3devSensor.sensor_index">
<code class="descname">sensor_index</code><a class="headerlink" href="#pybricks.iodevices.Ev3devSensor.sensor_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of the ev3dev sysfs <a class="reference external" href="http://docs.ev3dev.org/projects/lego-linux-drivers/en/ev3dev-stretch/sensors.html#the-lego-sensor-subsytem">lego-sensor</a> class.</p>
</dd></dl>

<dl class="attribute">
<dt id="pybricks.iodevices.Ev3devSensor.port_index">
<code class="descname">port_index</code><a class="headerlink" href="#pybricks.iodevices.Ev3devSensor.port_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of the ev3dev sysfs <a class="reference external" href="http://docs.ev3dev.org/projects/lego-linux-drivers/en/ev3dev-stretch/ports.html#the-lego-port-subsystem">lego-port</a> class.</p>
</dd></dl>

<dl class="method">
<dt id="pybricks.iodevices.Ev3devSensor.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>mode</em><span class="sig-paren">)</span><a class="headerlink" href="#pybricks.iodevices.Ev3devSensor.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads values at a given mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mode</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) – <a class="reference external" href="http://docs.ev3dev.org/projects/lego-linux-drivers/en/ev3dev-stretch/sensor_data.html">Mode name</a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Values read from the sensor.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">tuple</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p class="toggle-header"><strong>Show/hide example: Reading values with the Ev3devSensor class</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example</strong></p>
<p>In this example we use the LEGO MINDSTORMS EV3 Color Sensor with the raw
RGB mode. This gives uncalibrated red, green, and blue reflection values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>
<span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">wait</span>
<span class="kn">from</span> <span class="nn">pybricks.iodevices</span> <span class="kn">import</span> <span class="n">Ev3devSensor</span>

<span class="c1"># Initialize an Ev3devSensor.</span>
<span class="c1"># In this example we use the</span>
<span class="c1"># LEGO MINDSTORMS EV3 Color Sensor.</span>
<span class="n">sensor</span> <span class="o">=</span> <span class="n">Ev3devSensor</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">S3</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># Read the raw RGB values</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">sensor</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;RGB-RAW&#39;</span><span class="p">)</span>

    <span class="c1"># Print results</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;R: </span><span class="si">{0}</span><span class="se">\t</span><span class="s1"> G: </span><span class="si">{1}</span><span class="se">\t</span><span class="s1"> B: </span><span class="si">{2}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>

    <span class="c1"># Wait</span>
    <span class="n">wait</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p class="toggle-header"><strong>Show/hide example: Extending the Ev3devSensor class</strong></p>
<div class="toggle-content docutils container">
<p><strong>Example</strong></p>
<p>This example shows how to extend the <code class="docutils literal notranslate"><span class="pre">Ev3devSensor</span></code> class by accessing
additional features found in the Linux system folder for this device.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env pybricks-micropython</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>
<span class="kn">from</span> <span class="nn">pybricks.iodevices</span> <span class="kn">import</span> <span class="n">Ev3devSensor</span>


<span class="k">class</span> <span class="nc">MySensor</span><span class="p">(</span><span class="n">Ev3devSensor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Example of extending the Ev3devSensor class.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize the sensor.&quot;&quot;&quot;</span>

        <span class="c1"># Initialize the parent class.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>

        <span class="c1"># Get the sysfs path.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/sys/class/lego-sensor/sensor&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_modes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of mode strings so we don&#39;t have to look them up.&quot;&quot;&quot;</span>

        <span class="c1"># The path of the modes file.</span>
        <span class="n">modes_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/modes&#39;</span>

        <span class="c1"># Open the modes file.</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">modes_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">m</span><span class="p">:</span>

            <span class="c1"># Read the contents.</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

            <span class="c1"># Strip the newline symbol, and split at every space symbol.</span>
            <span class="k">return</span> <span class="n">contents</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>


<span class="c1"># Initialize the sensor</span>
<span class="n">sensor</span> <span class="o">=</span> <span class="n">MySensor</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">S3</span><span class="p">)</span>

<span class="c1"># Show where this sensor can be found</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># Print the available modes</span>
<span class="n">modes</span> <span class="o">=</span> <span class="n">sensor</span><span class="o">.</span><span class="n">get_modes</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">modes</span><span class="p">)</span>

<span class="c1"># Read mode 0 of this sensor</span>
<span class="n">val</span> <span class="o">=</span> <span class="n">sensor</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">modes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="parameters.html" class="btn btn-neutral float-right" title="parameters – Parameters and Constants" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nxtdevices.html" class="btn btn-neutral float-left" title="nxtdevices – NXT Devices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020 The LEGO Group. All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<div class="disclaimer">LEGO, the LEGO logo, MINDSTORMS and the MINDSTORMS EV3 logo are               trademarks and/or copyrights of the LEGO Group.</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>